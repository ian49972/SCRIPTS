writefile("CharaULT.mp3", game:HttpGet("https://github.com/ian49972/smth/raw/refs/heads/main/CharaULT.mp3"))
writefile("CharaALT.mp3", game:HttpGet("https://github.com/ian49972/smth/raw/refs/heads/main/CharaALT.mp3"))
writefile("CHARA.rbxmx", game:HttpGet("https://github.com/ian49972/RBXMS/raw/refs/heads/main/CHARA.rbxmx"))

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local TextService = game:GetService("TextService")
local CollectionService = game:GetService("CollectionService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local backpack = player:WaitForChild("Backpack")

local tool = Instance.new("Tool")
tool.Name = "???"
tool.RequiresHandle = false
tool.Parent = backpack

local assets = game:GetObjects(getcustomasset("CHARA.rbxmx"))[1]
local cameraModel = assets:WaitForChild("Camera")
local cameraPart = cameraModel:WaitForChild("camera")
local cameraKfs = assets:WaitForChild("camera")
local cameraKfs2 = assets:WaitForChild("camera2")
local playerKfs = assets:WaitForChild("player")
local playerKfs2 = assets:WaitForChild("player2")
local assetsFolder = assets:WaitForChild("Assets")
local torsoAttach = assetsFolder:WaitForChild("torso")
local auraPart = assetsFolder:WaitForChild("aura")
local eyeAttach = assetsFolder:WaitForChild("eye")
local knifeModel = assets:WaitForChild("Knife")
local heart2Model = assets:WaitForChild("Heart2")

local Heart = game:GetObjects("rbxassetid://5045128262")[1]

local camera = Workspace.CurrentCamera
local originalCameraType = camera.CameraType
local originalCameraSubject = camera.CameraSubject
local originalFieldOfView = camera.FieldOfView

local screenGui = Instance.new("ScreenGui")
screenGui.IgnoreGuiInset = true
screenGui.Parent = playerGui

local blackFrame = Instance.new("Frame")
blackFrame.Size = UDim2.new(1,0,1,0)
blackFrame.BackgroundColor3 = Color3.new(0,0,0)
blackFrame.BackgroundTransparency = 1
blackFrame.Parent = screenGui

local charaImage = Instance.new("ImageLabel")
charaImage.Size = UDim2.new(0.5,0,0.8,0)
charaImage.Position = UDim2.new(0.6,0,0.1,0)
charaImage.BackgroundTransparency = 1
charaImage.ImageTransparency = 1
charaImage.Image = "rbxassetid://14446502063"
charaImage.Parent = screenGui

local EasingStyleMap = {
	[Enum.PoseEasingStyle.Linear]   = Enum.EasingStyle.Linear,
	[Enum.PoseEasingStyle.Bounce]   = Enum.EasingStyle.Bounce,
	[Enum.PoseEasingStyle.Cubic]    = Enum.EasingStyle.Cubic,
	[Enum.PoseEasingStyle.Elastic]  = Enum.EasingStyle.Elastic,
	[Enum.PoseEasingStyle.Constant] = Enum.EasingStyle.Linear,
}

local EasingDirectionMap = {
	[Enum.PoseEasingDirection.In]    = Enum.EasingDirection.In,
	[Enum.PoseEasingDirection.Out]   = Enum.EasingDirection.Out,
	[Enum.PoseEasingDirection.InOut] = Enum.EasingDirection.InOut,
}

local function PlayKeyframeSequence(Model, KeyframeSequence, SpeedMult)
	SpeedMult = SpeedMult or 1
	local keyframes = {}
	for _, kf in ipairs(KeyframeSequence:GetKeyframes()) do
		table.insert(keyframes, {Time = kf.Time, KF = kf})
	end
	table.sort(keyframes, function(a,b) return a.Time < b.Time end)
	if #keyframes == 0 then return end
	local motorMap = {}
	local boneMap = {}
	local valueMap = {}
	local tweenList = {}
	local function ResolveInstance(pose)
		local name = pose.Name
		if motorMap[name] then return motorMap[name], "Motor6D" end
		if boneMap[name] then return boneMap[name], "Bone" end
		for _, motor in ipairs(Model:GetDescendants()) do
			if motor:IsA("Motor6D") and motor.Part1 and motor.Part0 then
				if motor.Part1.Name == name and motor.Part0.Name == pose.Parent.Name then
					motorMap[name] = motor
					return motor, "Motor6D"
				end
			end
		end
		for _, bone in ipairs(Model:GetDescendants()) do
			if bone:IsA("Bone") and bone.Name == name and bone.Parent and bone.Parent.Name == pose.Parent.Name then
				boneMap[name] = bone
				return bone, "Bone"
			end
		end
		return nil, nil
	end
	local poseTables = {}
	for i, entry in ipairs(keyframes) do
		local tab = {Time = entry.Time, Poses = {}}
		for _, pose in ipairs(entry.KF:GetDescendants()) do
			if pose:IsA("Pose") and pose.Weight > 0 then
				local instance, typ = ResolveInstance(pose)
				if instance then
					if not valueMap[pose.Name] then
						local val = Instance.new("CFrameValue")
						val.Name = "AnimValue"
						val.Parent = instance
						valueMap[pose.Name] = val
					end
					tab.Poses[pose.Name] = {
						Instance = instance,
						Type = typ,
						CFrame = pose.CFrame,
						Style = pose.EasingStyle,
						Dir = pose.EasingDirection,
					}
				end
			end
		end
		poseTables[i] = tab
	end
	for i = 1, #poseTables-1 do
		local kf1 = poseTables[i]
		local kf2 = poseTables[i+1]
		local duration = (kf2.Time - kf1.Time) / SpeedMult
		local group = {Duration = duration, Tweens = {}}
		for name, data2 in pairs(kf2.Poses) do
			local data1 = kf1.Poses[name] or poseTables[1].Poses[name]
			if data1 then
				local ti = TweenInfo.new(
					duration,
					EasingStyleMap[data2.Style] or Enum.EasingStyle.Linear,
					EasingDirectionMap[data2.Dir] or Enum.EasingDirection.InOut
				)
				local tween = TweenService:Create(valueMap[name], ti, {Value = data2.CFrame})
				group.Tweens[name] = tween
			end
		end
		table.insert(tweenList, group)
	end
	local function GetLength()
		return poseTables[#poseTables].Time / SpeedMult
	end
	local heartbeatConn = RunService.Heartbeat:Connect(function()
		for name, valObj in pairs(valueMap) do
			local cf = valObj.Value
			local entry = poseTables[1].Poses[name]
			if entry then
				if entry.Type == "Motor6D" then
					entry.Instance.Transform = cf
				else
					entry.Instance.Transform = cf
				end
			end
		end
	end)
	local function PlayOnce()
		for _, group in ipairs(tweenList) do
			for _, tween in pairs(group.Tweens) do
				tween:Play()
			end
			task.wait(group.Duration)
		end
	end
	return {
		Length = GetLength(),
		Stop = function()
			if heartbeatConn then heartbeatConn:Disconnect() end
			for _, group in ipairs(tweenList) do
				for _, tween in pairs(group.Tweens) do
					tween:Cancel()
				end
			end
			for _, v in pairs(valueMap) do
				v:Destroy()
			end
		end,
		Play = PlayOnce,
	}
end

local Object = game:GetObjects("rbxassetid://74714833540240")[1]
Object.Parent = workspace

local DialogueGui = Object.CUSTOM_DIALOGUE

local function getColor(timeLength, points)
	local data1 = points[1]
	local allPoints = points[#points]
	for i = 1, #points - 1 do
		if points[i].Time <= timeLength and timeLength <= points[i + 1].Time then
			data1 = points[i]
			allPoints = points[i + 1]
			local newPoint = (timeLength - data1.Time) / (allPoints.Time - data1.Time)
			return data1.Value:Lerp(allPoints.Value, newPoint)
		end
	end
	return data1.Value
end

local function EndDialogue(gui)
	for _, v in gui:GetChildren() do
		if v.Name == "letter" then
			v:SetAttribute("Ending", true)
			TweenService:Create(v, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
				Position = v.Position + UDim2.new(0, 0, 0, 50),
				TextTransparency = 1,
				TextStrokeTransparency = 1
			}):Play()
			game.Debris:AddItem(v, 0.4)
		end
	end
end

local function CreateDialogue(data, displayName)
	displayName = player.Name
	local DialogueUI = DialogueGui:Clone()
	local posY = 0
	local posX = 0
	local Time = 0
	local Template = DialogueUI.Holder.Template
	local Holder = DialogueUI.Holder
	local ImageLabel = Template:WaitForChild("ImageLabel")
	local NameLabel = Template:WaitForChild("Name")
	ImageLabel.Position = ImageLabel.Position - UDim2.new(0, 0, 0, 100)
	ImageLabel.ImageTransparency = 1
	ImageLabel.Image = "rbxassetid://6192162228"
	NameLabel.Position = NameLabel.Position - UDim2.new(0, 0, 0, 100)
	NameLabel.TextTransparency = 1
	NameLabel.TextStrokeTransparency = 1
	TweenService:Create(ImageLabel, TweenInfo.new(0.8, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
		Position = ImageLabel.Position + UDim2.new(0, 0, 0, 100),
		ImageTransparency = 0
	}):Play()
	TweenService:Create(NameLabel, TweenInfo.new(0.8, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
		Position = NameLabel.Position + UDim2.new(0, 0, 0, 100),
		TextTransparency = 0,
		TextStrokeTransparency = 0
	}):Play()
	
	DialogueUI.Parent = playerGui
	DialogueUI.Enabled = true
	DialogueUI.Name = "CUSTOM_DIALOGUE"
	CollectionService:AddTag(DialogueUI, "CUSTOM_DIALOGUE")
	NameLabel.Text = displayName
	
	local isHigh = false
	for _, v in data do
		if v.HigherUp then
			isHigh = true
			TweenService:Create(Holder, TweenInfo.new(0.2), {Position = UDim2.new(0.5, 0, 0.965, 0)}):Play()
		end
	end
	if not isHigh then
		TweenService:Create(Holder, TweenInfo.new(0.8), {Position = UDim2.new(0.5, 0, 1, 0)}):Play()
	end
	
	for _, v in data do
		local split = string.split(v.Text, "")
		local font = v.Bold and Enum.Font.SourceSansBold or v.Italic and Enum.Font.SourceSansItalic or Enum.Font.SourceSans
		for _, b in split do
			posY = posY + TextService:GetTextSize(b, 25, font, Vector2.new(100, 100)).X
		end
	end
	
	local totalTypingTime = 0
	for _, v in data do
		local split = string.split(v.Text, "")
		local font = v.Bold and Enum.Font.SourceSansBold or v.Italic and Enum.Font.SourceSansItalic or Enum.Font.SourceSans
		for _, b in split do
			local TextService_TextLabel = TextService:GetTextSize(b, 25, font, Vector2.new(100, 100))
			local TextLabel = Instance.new("TextLabel")
			local newPosY = posY
			local newPosX = posX
			TextLabel.AnchorPoint = Vector2.new(0, 0.5)
			TextLabel.Position = UDim2.new(0.5, newPosX - newPosY / 2 // 1, 0.5, 10)
			TextLabel.Size = UDim2.new(0, TextService_TextLabel.X, 0, TextService_TextLabel.Y)
			TextLabel.Text = b
			TextLabel.Name = "letter"
			TextLabel.Font = font
			TextLabel.TextSize = 25
			TextLabel.Parent = Template
			TextLabel.BackgroundTransparency = 1
			TextLabel.TextStrokeColor3 = v.TextStrokeColor
			TextLabel.TextStrokeTransparency = 1
			TextLabel.TextTransparency = 1
			task.delay(Time, function()
				local osClock = os.clock()
				repeat
					local keyPointTime = math.min((os.clock() - osClock) / 0.35, 1)
					local shakeLifeTime = math.min((os.clock() - osClock) / (v.Shake.Lifetime or 0.3), 1)
					local currentShake = not v.Shake.Enabled and UDim2.new(0, 0, 0, 0) or UDim2.new(0, math.random(-v.Shake.Intensity, v.Shake.Intensity) * (1 - shakeLifeTime), 0, math.random(-v.Shake.Intensity, v.Shake.Intensity) * (1 - shakeLifeTime))
					local textSettings = 1 - (1 + 2.70158 * math.pow(keyPointTime - 1, 3) + 1.70158 * math.pow(keyPointTime - 1, 2))
					TextLabel.TextStrokeTransparency = (1 - keyPointTime) ^ 10
					TextLabel.TextTransparency = textSettings
					TextLabel.TextSize = 25 + 25 * textSettings
					TextLabel.TextColor3 = getColor(keyPointTime, v.Color.Keypoints)
					TextLabel.Position = UDim2.new(0.5, newPosX - newPosY / 2 // 1, 0.5, 0) + currentShake
					task.wait()
				until os.clock() - osClock > math.max(0.35, v.Shake.Lifetime or 0.3) or not TextLabel or TextLabel:GetAttribute("Ending")
				if TextLabel then
					TextLabel.TextStrokeTransparency = 0
					TextLabel.TextTransparency = 0
					TextLabel.TextSize = 25
					TextLabel.TextColor3 = v.Color.Keypoints[#v.Color.Keypoints].Value
					TextLabel.Position = UDim2.new(0.5, newPosX - newPosY / 2 // 1, 0.5, 0)
				end
			end)
			Time = Time + (v.TypeSpeed or 0.03)
			posX = posX + TextService_TextLabel.X
			totalTypingTime = Time
		end
	end
	
	task.spawn(function()
		task.wait(totalTypingTime + 1) 
		EndDialogue(Template)
		TweenService:Create(ImageLabel, TweenInfo.new(0.8, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {
			Position = ImageLabel.Position - UDim2.new(0, 0, 0, 100),
			ImageTransparency = 1
		}):Play()
		TweenService:Create(NameLabel, TweenInfo.new(0.8, Enum.EasingStyle.Quint, Enum.EasingDirection.In), {
			Position = NameLabel.Position - UDim2.new(0, 0, 0, 100),
			TextTransparency = 1,
			TextStrokeTransparency = 1
		}):Play()
		task.delay(0.8, function()
			DialogueUI:Destroy()
		end)
	end)
end

tool.Activated:Connect(function()
	tool:Destroy()
	
	local isSpecial = math.random() < 0.5
	
	local hrp = character:WaitForChild("HumanoidRootPart")
	local torso = character:WaitForChild("Torso")
	local head = character:WaitForChild("Head")
	local rightArm = character:WaitForChild("Right Arm")
	
	local originalAnimator = humanoid:FindFirstChildOfClass("Animator")
	if originalAnimator then
		originalAnimator:Destroy()
	end
	
	hrp.Anchored = true
	
	cameraModel:PivotTo(hrp.CFrame)
	cameraModel.Parent = Workspace
	
	camera.CameraType = Enum.CameraType.Scriptable
	camera.CameraSubject = cameraPart
	camera.FieldOfView = 70
	humanoid.CameraOffset = Vector3.new(0,0,0)
	
	local camConn = RunService.RenderStepped:Connect(function()
		camera.CFrame = cameraPart.CFrame
	end)
	
	local sound = Instance.new("Sound")
	sound.SoundId = getcustomasset(isSpecial and "CharaALT.mp3" or "CharaULT.mp3")
	sound.Volume = 1
	sound.Parent = Workspace
	sound:Play()
	
	local camAnim, playerAnim, animLength
	
	if isSpecial then
		camAnim = PlayKeyframeSequence(cameraModel, cameraKfs2, 1.1)
		playerAnim = PlayKeyframeSequence(character, playerKfs2, 1.1)
		animLength = playerAnim.Length
		
		task.delay(1.5, function()
			local highlight = Instance.new("Highlight")
			highlight.FillTransparency = 1
			highlight.OutlineColor = Color3.new(1, 1, 1)
			highlight.OutlineTransparency = 0
			highlight.Parent = character
			
			TweenService:Create(highlight, TweenInfo.new(2), {OutlineTransparency = 1}):Play()
			task.delay(2, function()
				highlight:Destroy()
			end)
		end)
		
		task.delay(1.5, function()
			local heartModel = heart2Model:Clone()
			heartModel.Parent = Workspace
			heartModel:PivotTo(cameraPart.CFrame * CFrame.new(0, 0, -1))
			
			local determination = heartModel:FindFirstChild("Determination")
			if determination then
				local det1 = determination:FindFirstChild("Determination1")
				local det2 = determination:FindFirstChild("Determination2")
				
				if det1 and det2 then
					local originalDet1CFrame = det1.CFrame
					local originalDet2CFrame = det2.CFrame
					
					det1.CFrame = originalDet1CFrame * CFrame.new(0, 0, -0.3)
					det2.CFrame = originalDet2CFrame * CFrame.new(0, 0, 0.3)
					
					local heartHighlight = Instance.new("Highlight")
					heartHighlight.FillColor = Color3.fromRGB(255, 0, 0)
					heartHighlight.FillTransparency = 0
					heartHighlight.OutlineColor = Color3.new(1, 1, 1)
					heartHighlight.OutlineTransparency = 0
					heartHighlight.Parent = heartModel
					
					task.delay(0.5, function()
						TweenService:Create(det1, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CFrame = originalDet1CFrame}):Play()
						TweenService:Create(det2, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CFrame = originalDet2CFrame}):Play()
					end)
				end
			end
			
			task.delay(1.5, function()
				if heartModel and heartModel.Parent then
					heartModel:Destroy()
				end
			end)
		end)
		
		task.delay(6, function()
			CreateDialogue({{
				Text = "Imm...",
				TypeSpeed = 0.05,
				Bold = false,
				Italic = true,
				TextStrokeColor = Color3.new(0, 0, 0),
				HigherUp = false,
				Shake = {Enabled = true, Intensity = 4, Lifetime = 0.4},
				Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
			}}, player.Name)
			
			task.delay(1, function()
				CreateDialogue({{
					Text = "Baaaaaaacck~",
					TypeSpeed = 0.06,
					Bold = false,
					Italic = false,
					TextStrokeColor = Color3.new(0, 0, 0),
					HigherUp = true,
					Shake = {Enabled = true, Intensity = 1, Lifetime = 0.5},
					Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
				}}, player.Name)
			end)
		end)
	else
		camAnim = PlayKeyframeSequence(cameraModel, cameraKfs, 1.1)
		playerAnim = PlayKeyframeSequence(character, playerKfs, 1.1)
		animLength = playerAnim.Length
		
		eyeAttach.Parent = head
		local impacto1 = eyeAttach:FindFirstChild("impacto1")
		local otherEyeEmitter = nil
		for _, emitter in ipairs(eyeAttach:GetDescendants()) do
			if emitter:IsA("ParticleEmitter") and emitter.Name ~= "impacto1" then
				otherEyeEmitter = emitter
				break
			end
		end
		
		if impacto1 and impacto1:IsA("ParticleEmitter") then
			impacto1.Enabled = true
			task.delay(0.15, function()
				impacto1.Enabled = false
			end)
		end
		
		if otherEyeEmitter then
			otherEyeEmitter.Enabled = true
		end
		
		task.delay(2, function()
			if eyeAttach.Parent then
				eyeAttach:Destroy()
			end
		end)
		
		task.delay(2.7, function()
			TweenService:Create(charaImage, TweenInfo.new(0.5), {ImageTransparency = 0}):Play()
		end)
		
		task.delay(10.5, function()
			TweenService:Create(charaImage, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
		end)
		
		task.delay(4, function()
			CreateDialogue({{
				Text = "Since",
				TypeSpeed = 0.03,
				Bold = false,
				Italic = false,
				TextStrokeColor = Color3.new(0, 0, 0),
				HigherUp = false,
				Shake = {Enabled = true, Intensity = 3, Lifetime = 0.3},
				Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
			}}, "player.Name")
		end)
		
		task.delay(4.6, function()
			CreateDialogue({{
				Text = "WHEN",
				TypeSpeed = 0.03,
				Bold = true,
				Italic = false,
				TextStrokeColor = Color3.new(0, 0, 0),
				HigherUp = true,
				Shake = {Enabled = true, Intensity = 6, Lifetime = 0.4},
				Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
			}}, "player.Name")
		end)
		
		task.delay(5, function()
			CreateDialogue({{
				Text = "Were you the one in control??",
				TypeSpeed = 0.05,
				Bold = false,
				Italic = false,
				TextStrokeColor = Color3.new(0, 0, 0),
				HigherUp = false,
				Shake = {Enabled = false, Intensity = 0, Lifetime = 0},
				Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
			}}, "player.Name")
		end)
		
		task.delay(15.5, function()
			CreateDialogue({{
				Text = "Now, partner.",
				TypeSpeed = 0.05,
				Bold = false,
				Italic = true,
				TextStrokeColor = Color3.new(0, 0, 0),
				HigherUp = false,
				Shake = {Enabled = false, Intensity = 0, Lifetime = 0},
				Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
			}}, "player.Name")
			task.delay(3.2, function()
				CreateDialogue({{
					Text = "Let us send this world back into the abyss.",
					TypeSpeed = 0.06,
					Bold = true,
					Italic = false,
					TextStrokeColor = Color3.new(0, 0, 0),
					HigherUp = true,
					Shake = {Enabled = true, Intensity = 5, Lifetime = 0.4},
					Color = {Keypoints = {{Time = 0, Value = Color3.new(1, 0, 0)}, {Time = 1, Value = Color3.new(1, 0, 0)}}}
				}}, "player.Name")
			end)
		end)
		
		task.delay(10.5, function()
			local highlight = Instance.new("Highlight")
			highlight.FillTransparency = 1
			highlight.OutlineColor = Color3.new(1, 1, 1)
			highlight.OutlineTransparency = 0
			highlight.Parent = character
			
			local heartHighlight = Instance.new("Highlight")
			heartHighlight.FillColor = Color3.fromRGB(255, 0, 0)
			heartHighlight.FillTransparency = 0
			heartHighlight.OutlineColor = Color3.new(1, 1, 1)
			heartHighlight.OutlineTransparency = 0
			heartHighlight.Parent = Heart
			Heart.Transparency = 0
			
			local tween = TweenService:Create(highlight, TweenInfo.new(5), {OutlineTransparency = 1})
			tween:Play()
	  
			task.wait(4)
			Heart.Transparency = 1
			
			tween.Completed:Connect(function()
				highlight:Destroy()
				
				torsoAttach.Parent = torso
				for _, emitter in ipairs(torsoAttach:GetDescendants()) do
					if emitter:IsA("ParticleEmitter") then
						emitter.Enabled = true
					end
				end
				
				task.delay(3, function()
					local auraObjects = {}
					auraPart.Parent = head
					for _, child in ipairs(auraPart:GetChildren()) do
						child.Parent = head
						table.insert(auraObjects, child)
						if child:IsA("ParticleEmitter") then
							child.Enabled = true
						end
					end
					for _, attach in ipairs(head:GetChildren()) do
						if attach:IsA("Attachment") and attach.Parent == head then
							table.insert(auraObjects, attach)
							for _, emitter in ipairs(attach:GetDescendants()) do
								if emitter:IsA("ParticleEmitter") then
									emitter.Enabled = true
								end
							end
						end
					end
					auraPart:Destroy()
					
					task.delay(animLength - 11, function()
						for _, obj in ipairs(auraObjects) do
							if obj and obj.Parent then
								obj:Destroy()
							end
						end
					end)
				end)
			end)
			
			task.delay(2, function()
				if heartHighlight and heartHighlight.Parent then
					heartHighlight:Destroy()
				end
			end)
		end)
	end
	
	task.spawn(function()
		camAnim.Play()
	end)
	task.spawn(function()
		playerAnim.Play()
	end)
	
	local handle = knifeModel:FindFirstChild("Handle")
	handle.Anchored = false
	knifeModel.Parent = character
	
	local knifeMotor = Instance.new("Motor6D")
	knifeMotor.Name = "KnifeWeld"
	knifeMotor.Part0 = rightArm
	knifeMotor.Part1 = handle
	knifeMotor.C0 = CFrame.new(0, -1, 0) * CFrame.Angles(0, 0, math.rad(-90)) * CFrame.Angles(math.rad(-90), 0, 0) * CFrame.Angles(0, math.rad(180), 0)
	knifeMotor.Parent = rightArm

	if not isSpecial then
		Heart.Anchored = false
		Heart.CanCollide = false
		Heart.Transparency = 1
		Heart.Size = Vector3.new(1, 1, 1)
		Heart.CFrame = torso.CFrame
		Heart.Parent = character
		
		local heartWeld = Instance.new("WeldConstraint")
		heartWeld.Part0 = torso
		heartWeld.Part1 = Heart
		heartWeld.Parent = Heart
	end
	
	task.delay(animLength, function()
		camAnim.Stop()
		playerAnim.Stop()
		
		if camConn then camConn:Disconnect() end
		
		hrp.Anchored = false
		
		camera.CameraType = originalCameraType
		camera.CameraSubject = originalCameraSubject
		camera.FieldOfView = originalFieldOfView
		
		if not humanoid:FindFirstChildOfClass("Animator") then
			local newAnimator = Instance.new("Animator")
			newAnimator.Parent = humanoid
		end
		
		cameraModel:Destroy()
		if torsoAttach.Parent then torsoAttach:Destroy() end
		knifeModel:Destroy()
		if Heart.Parent then Heart:Destroy() end
		
		TweenService:Create(blackFrame, TweenInfo.new(0.15), {BackgroundTransparency = 0}):Play()
		task.delay(0.2, function()
			TweenService:Create(blackFrame, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
			task.delay(0.2, function()
				TweenService:Create(blackFrame, TweenInfo.new(0.15), {BackgroundTransparency = 0}):Play()
				task.delay(0.2, function()
					TweenService:Create(blackFrame, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
				end)
			end)
		end)
		
		task.delay(1, function()
			screenGui:Destroy()
		end)
	end)
end)
